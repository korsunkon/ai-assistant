# –ò–∑–º–µ–Ω–µ–Ω–∏—è: –ü–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã** –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ HuggingFace —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ.

---

## üìù –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1. **backend/app/services/diarization.py**

**–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_get_diarization_pipeline()`:**

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∏–ª–∏ HuggingFace
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å —Ä–µ—à–µ–Ω–∏—è–º–∏

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ï—Å–ª–∏ settings.diarization_model - —ç—Ç–æ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä "./speaker-diarization-3.1")
if model_path.exists() and model_path.is_dir():
    # –ó–∞–≥—Ä—É–∂–∞–µ–º –ª–æ–∫–∞–ª—å–Ω–æ –ë–ï–ó —Ç–æ–∫–µ–Ω–∞
    pipeline = Pipeline.from_pretrained(str(model_path))
else:
    # –ó–∞–≥—Ä—É–∂–∞–µ–º —Å HuggingFace (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω)
    pipeline = Pipeline.from_pretrained(model_name, use_auth_token=True)
```

---

### 2. **backend/app/config.py**

**–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**

```python
# –î–∏–∞—Ä–∏–∑–∞—Ü–∏—è (pyannote.audio)
# –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å:
# 1. –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å: "./speaker-diarization-3.1" (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ —Ç–æ–∫–µ–Ω–æ–≤)
# 2. HuggingFace: "pyannote/speaker-diarization-3.1" (—Ç—Ä–µ–±—É–µ—Ç HF_TOKEN)
diarization_model: str = "pyannote/speaker-diarization-3.1"
```

---

### 3. **setup_diarization.bat** (–ù–û–í–´–ô –§–ê–ô–õ)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏:

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É Git LFS
- ‚úÖ –ö–ª–æ–Ω–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª—å —Å HuggingFace
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç config.py
- ‚úÖ –í—ã–≤–æ–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
setup_diarization.bat
```

---

### 4. **–ù–ê–°–¢–†–û–ô–ö–ê_–î–ò–ê–†–ò–ó–ê–¶–ò–ò.md** (–û–ë–ù–û–í–õ–ï–ù)

**–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è –¥–≤—É—Ö —Å–ø–æ—Å–æ–±–æ–≤:**

#### –°–ø–æ—Å–æ–± 1: –õ–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –°–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å –æ–¥–∏–Ω —Ä–∞–∑ —Å –ø–æ–º–æ—â—å—é git
- –£–∫–∞–∑–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –≤ config.py
- –ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω!

#### –°–ø–æ—Å–æ–± 2: HuggingFace (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ
- –¢—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

**–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:**
| –ö—Ä–∏—Ç–µ—Ä–∏–π | –õ–æ–∫–∞–ª—å–Ω–æ | HuggingFace |
|----------|----------|-------------|
| –ò–Ω—Ç–µ—Ä–Ω–µ—Ç | ‚ùå –ù–µ –Ω—É–∂–µ–Ω | ‚úÖ –ù—É–∂–µ–Ω |
| –¢–æ–∫–µ–Ω | –¢–æ–ª—å–∫–æ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è | –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ |

---

### 5. **–î–ò–ê–†–ò–ó–ê–¶–ò–Ø_v3.0.md** (–û–ë–ù–û–í–õ–ï–ù)

**–†–∞–∑–¥–µ–ª "–£—Å—Ç–∞–Ω–æ–≤–∫–∞":**
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `setup_diarization.bat`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º

---

### 6. **–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢.md** (–ù–û–í–´–ô –§–ê–ô–õ)

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
3. –ó–∞–ø—É—Å–∫ Ollama
4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
6. FAQ

‚è± **–û–±—â–µ–µ –≤—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** ~20-30 –º–∏–Ω—É—Ç (–≤–∫–ª—é—á–∞—è —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ)

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```
‚ùå –¢—Ä–µ–±–æ–≤–∞–ª—Å—è HF_TOKEN –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ
‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–ª–æ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
‚ùå –°–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```
‚úÖ –¢–æ–∫–µ–Ω –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ (–ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏)
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ setup_diarization.bat
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: –ª–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –∏–ª–∏ HuggingFace
```

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è –Ω–æ–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å (–æ–¥–∏–Ω —Ä–∞–∑)
setup_diarization.bat

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
start.bat
```

### –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

**–í–∞—Ä–∏–∞–Ω—Ç A: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```bash
# –°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å
setup_diarization.bat

# –û–±–Ω–æ–≤–∏—Ç–µ config.py
diarization_model: str = "./speaker-diarization-3.1"
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HuggingFace**

–ù–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–π—Ç–µ, –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ (—Å —Ç–æ–∫–µ–Ω–æ–º).

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ù–ï –∏–∑–º–µ–Ω–∏–ª–∞—Å—å:

| –†–µ–∂–∏–º | –í—Ä–µ–º—è –Ω–∞ –∑–≤–æ–Ω–æ–∫ (5 –º–∏–Ω) |
|-------|------------------------|
| CPU | ~1-2 –º–∏–Ω—É—Ç—ã |
| GPU (CUDA) | ~10-20 —Å–µ–∫—É–Ω–¥ |

–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏:
- **–õ–æ–∫–∞–ª—å–Ω–æ:** ‚ö° ~1-2 —Å–µ–∫—É–Ω–¥—ã
- **HuggingFace:** üêå ~10-30 —Å–µ–∫—É–Ω–¥ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏ –Ω–∞ –¥–∏—Å–∫–µ:

```
speaker-diarization-3.1/
‚îú‚îÄ‚îÄ config.yaml          (~1 KB)
‚îú‚îÄ‚îÄ pytorch_model.bin    (~480 MB)
‚îî‚îÄ‚îÄ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã         (~20 MB)
–ò—Ç–æ–≥–æ: ~500 MB
```

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:

- ‚úÖ Windows 10/11
- ‚úÖ Linux
- ‚úÖ macOS
- ‚úÖ Python 3.10+
- ‚úÖ PyTorch 2.0+

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- [–ù–ê–°–¢–†–û–ô–ö–ê_–î–ò–ê–†–ò–ó–ê–¶–ò–ò.md](–ù–ê–°–¢–†–û–ô–ö–ê_–î–ò–ê–†–ò–ó–ê–¶–ò–ò.md) - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- [–î–ò–ê–†–ò–ó–ê–¶–ò–Ø_v3.0.md](–î–ò–ê–†–ò–ó–ê–¶–ò–Ø_v3.0.md) - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢.md](–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢.md) - –∫—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Git LFS
- [ ] –ó–∞–ø—É—â–µ–Ω `setup_diarization.bat`
- [ ] –ú–æ–¥–µ–ª—å —Å–∫–∞—á–∞–Ω–∞ –≤ `speaker-diarization-3.1/`
- [ ] –í `config.py` —É–∫–∞–∑–∞–Ω –ø—É—Ç—å: `"./speaker-diarization-3.1"`
- [ ] –ó–∞–ø—É—â–µ–Ω Ollama —Å Qwen: `ollama run qwen3:8b`
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ `start.bat`

---

**–í–µ—Ä—Å–∏—è:** 3.0 (–ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)
**–î–∞—Ç–∞:** 2026-01-19
**–ê–≤—Ç–æ—Ä:** Claude Sonnet 4.5

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏:**
- [pyannote/pyannote-audio Issue #1410](https://github.com/pyannote/pyannote-audio/issues/1410)
- [WhisperX Issue #841](https://github.com/m-bain/whisperX/issues/841)
- [Picovoice Speaker Diarization Guide](https://picovoice.ai/blog/speaker-diarization-in-python/)
